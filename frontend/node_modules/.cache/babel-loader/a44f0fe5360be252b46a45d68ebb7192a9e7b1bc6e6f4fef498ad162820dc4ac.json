{"ast":null,"code":"import _objectSpread from\"E:/tutorials/Dennis Ivy Django React Notes App/mynotes/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"E:/tutorials/Dennis Ivy Django React Notes App/mynotes/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/tutorials/Dennis Ivy Django React Notes App/mynotes/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/tutorials/Dennis Ivy Django React Notes App/mynotes/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Link,useParams,useNavigate}from\"react-router-dom\";import{ReactComponent as ArrowLeft}from\"../assets/arrow-left.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NotePage=function NotePage(){var _useParams=useParams(),idValue=_useParams.idValue;var noteId=idValue;var navigate=useNavigate();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),note=_useState2[0],setNote=_useState2[1];var getNote=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/api/notes/\".concat(noteId));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;//console.log(data);\nsetNote(data);case 7:case\"end\":return _context.stop();}},_callee);}));return function getNote(){return _ref.apply(this,arguments);};}();// let updateNote = async () => {\n//     await fetch(`api/notes/${noteId}/update`, {\n//         method: \"PUT\",\n//         headers: {\n//             \"Content-Type\": \"application/json\",\n//         },\n//         body: JSON.stringify(note),\n//     });\n// };\nvar updateNote=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"/api/notes/\".concat(noteId,\"/update\"),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(note)});case 2:case\"end\":return _context2.stop();}},_callee2);}));return function updateNote(){return _ref2.apply(this,arguments);};}();var deleteNote=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"/api/notes/\".concat(noteId,\"/delete\"),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"}});case 2:navigate(\"/\");case 3:case\"end\":return _context3.stop();}},_callee3);}));return function deleteNote(){return _ref3.apply(this,arguments);};}();var createNote=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"/api/notes/create\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(note)});case 2:case\"end\":return _context4.stop();}},_callee4);}));return function createNote(){return _ref4.apply(this,arguments);};}();var handleSubmit=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:console.log(\"Note\",note);if(noteId!==\"new\"&&!note.body){deleteNote();console.log(\"del\");}else if(noteId!==\"new\"){updateNote();console.log(\"up\");}else if(noteId===\"new\"&&note!==null){createNote();console.log(\"cre\");}else{console.log(\".....\");}navigate(\"/\");case 3:case\"end\":return _context5.stop();}},_callee5);}));return function handleSubmit(){return _ref5.apply(this,arguments);};}();useEffect(function(){if(noteId!==\"new\")getNote();},[noteId]);return/*#__PURE__*/_jsxs(\"div\",{className:\"note\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"note-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(ArrowLeft,{onClick:handleSubmit})}),noteId!==\"new\"?/*#__PURE__*/_jsx(\"button\",{onClick:deleteNote,children:\"Delete\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Done\"})]}),/*#__PURE__*/_jsx(\"textarea\",{onChange:function onChange(e){setNote(_objectSpread(_objectSpread({},note),{},{body:e.target.value}));console.log(e.target.value);},value:note===null||note===void 0?void 0:note.body})]});};export default NotePage;","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","useNavigate","ReactComponent","ArrowLeft","jsx","_jsx","jsxs","_jsxs","NotePage","_useParams","idValue","noteId","navigate","_useState","_useState2","_slicedToArray","note","setNote","getNote","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","concat","sent","json","stop","apply","arguments","updateNote","_ref2","_callee2","_callee2$","_context2","method","headers","body","JSON","stringify","deleteNote","_ref3","_callee3","_callee3$","_context3","createNote","_ref4","_callee4","_callee4$","_context4","handleSubmit","_ref5","_callee5","_callee5$","_context5","console","log","className","children","onClick","onChange","e","_objectSpread","target","value"],"sources":["E:/tutorials/Dennis Ivy Django React Notes App/mynotes/frontend/src/pages/NotePage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\r\nimport { ReactComponent as ArrowLeft } from \"../assets/arrow-left.svg\";\r\n\r\nconst NotePage = () => {\r\n    const { idValue } = useParams();\r\n    let noteId = idValue;\r\n    let navigate = useNavigate();\r\n    let [note, setNote] = useState(null);\r\n\r\n    let getNote = async () => {\r\n        let response = await fetch(`/api/notes/${noteId}`);\r\n        let data = await response.json();\r\n        //console.log(data);\r\n        setNote(data);\r\n    };\r\n\r\n    // let updateNote = async () => {\r\n    //     await fetch(`api/notes/${noteId}/update`, {\r\n    //         method: \"PUT\",\r\n    //         headers: {\r\n    //             \"Content-Type\": \"application/json\",\r\n    //         },\r\n    //         body: JSON.stringify(note),\r\n    //     });\r\n    // };\r\n\r\n    let updateNote = async () => {\r\n        await fetch(`/api/notes/${noteId}/update`, {\r\n            method: \"PUT\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(note),\r\n        });\r\n    };\r\n\r\n    let deleteNote = async () => {\r\n        await fetch(`/api/notes/${noteId}/delete`, {\r\n            method: \"DELETE\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        });\r\n        navigate(\"/\");\r\n    };\r\n\r\n    let createNote = async () => {\r\n        await fetch(`/api/notes/create`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(note),\r\n        });\r\n    };\r\n\r\n    let handleSubmit = async () => {\r\n        console.log(\"Note\", note);\r\n        if (noteId !== \"new\" && !note.body) {\r\n            deleteNote();\r\n            console.log(\"del\");\r\n        } else if (noteId !== \"new\") {\r\n            updateNote();\r\n            console.log(\"up\");\r\n        } else if (noteId === \"new\" && note !== null) {\r\n            createNote();\r\n            console.log(\"cre\");\r\n        } else {\r\n            console.log(\".....\");\r\n        }\r\n        navigate(\"/\");\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (noteId !== \"new\") getNote();\r\n    }, [noteId]);\r\n\r\n    return (\r\n        <div className=\"note\">\r\n            <div className=\"note-header\">\r\n                <h3>\r\n                    <ArrowLeft onClick={handleSubmit} />\r\n                </h3>\r\n                {noteId !== \"new\" ? (\r\n                    <button onClick={deleteNote}>Delete</button>\r\n                ) : (\r\n                    <button onClick={handleSubmit}>Done</button>\r\n                )}\r\n            </div>\r\n            <textarea\r\n                onChange={(e) => {\r\n                    setNote({ ...note, body: e.target.value });\r\n                    console.log(e.target.value);\r\n                }}\r\n                value={note?.body}\r\n            ></textarea>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NotePage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}